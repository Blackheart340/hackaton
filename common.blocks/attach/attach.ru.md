# attach

Используется для загрузки файла, предназначенного для отправки на сервер.

### Краткая информация

#### Специализированные поля блока

| Поле | Тип | Описание |
| ---- | --- | -------- |
| <a href=#button>button</a> | <code>String</code>, <code>BEMJSON</code> | Внешний вид кнопки для выбора файла. |
| <a href=#nofiletext>noFileText</a> | <code>String</code> | Текст сообщения, когда файл не выбран. |

#### Модификаторы блока

| Модификатор | Допустимое значение | Способ использования | Описание |
| ----------- | ------------------- | -------------------- | -------- |
| <a href=#themes>theme</a> | <code>'normal'</code> | <code>BEMJSON</code> | Стилевое оформление |
| <a href=#disabled>disabled</a> | <code>true</code> | <code>BEMJSON</code>, <code>JS</code> | Блокировка блока |
| <a href=#focused>focused</a> | <code>true</code> | <code>BEMJSON</code>, <code>JS</code> | Фокусировка блока |

### Описание

По умолчанию блок `attach` визуально представлен:

* кнопкой ([button](../button/button.ru.md)), вызывающей системное окно загрузки файла;
* текстовым сообщением (например, «Файл не выбран»).

После загрузки файла отображаются следующие элементы:

* иконка файла (блок [icon](../icon/icon.md));
* имя файла (элемент `text`);
* крестик для отмены (элемент `clear`).

Реализация блока не позволяет:

* прикреплять несколько файлов;
* перетаскивать элементы (drag-and-drop).

### Обзор блока

### Специализированные поля блока

Список зарезервированных полей входного BEMJSON:

<a name="button"></a>

#### `button`

Определяет внешний вид кнопки для выбора файла:

* задает текст кнопки

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal' },
    button : 'Выберите файл'
}
```
* задает внешний вид и тип кнопки

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal' },
    button : {
        block : 'button',
        mods : {
            theme : 'normal',
            size : 'm'
            },
        icon : {
            block : 'icon',
            mods : { action : 'download' }
            },
        text: 'Выберите файл'
    }
}
```

<a name="nofiletext"></a>

#### `noFileText`

Определяет текст сообщения, когда файл не выбран.

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal' },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```

### Модификаторы блока

<a name="themes"></a>

### Модификатор `theme`

Допустимое значение: `'normal'`.
Способы использования: `BEMJSON`.

Без указания модификатора `theme` отображается нативный вид контрола.

Модификатор мажет быть задан в декларации BEMJSON:

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal' },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```

<a name="disabled"></a>

#### Модификатор `disabled`

Допустимое значение: `true`.
Способы использования: `BEMJSON`, `JS`.

В неактивном состоянии блока кнопка выбора файла видна, но недоступна для действий пользователя. Блок не может получить модификатор `focused`.

Модификатор может быть задан программно (JS) или в декларации BEMJSON:

```bemjson
{
    block : 'attach',
    mods : {
        theme : 'normal',
        disabled : true
        },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```

<a name="focused"></a>

#### Модификатор `focused`

Допустимое значение: `true`.
Способы использования: `BEMJSON`, `JS`.

Модификатор `focused` в значении `true` автоматически выставляется блоку в момент, когда он находится в фокусе. Например, по нажатию клавиши `Tab` или при щелчке мышью.

Модификатор может быть задан программно (JS) или в декларации BEMJSON:

```bemjson
{
    block : 'attach',
    mods : {
        theme : 'normal',
        focused : true
        },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```
