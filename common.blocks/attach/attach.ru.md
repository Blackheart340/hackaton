# attach

Блок `attach` служит для загрузки файла, предназначенного для отправки на сервер.

По умолчанию блок визуально представлен кнопкой на основе блока [button](../button/button.ru.md), открывающей системное окно загрузки файла, и текстовым сообщением (например, «Файл не выбран»). После загрузки файла отображаются следующие элементы:

* иконка файла (блок [icon](../icon/icon.md));
* имя файла (элемент `text`);
* крестик для отмены (элемент `clear`).

Реализация блока не позволяет прикреплять несколько файлов и не поддерживает drag-and-drop.

## Специализированные поля блока

Список зарезервированных полей входного BEMJSON:

#### button

Определяет внешний вид кнопки для выбора файла:

* задает текст кнопки

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal' },
    button : 'Выберите файл'
}
```
* задает внешний вид и тип кнопки

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal' },
    button : {
        block : 'button',
        mods : { theme : 'normal' },
        icon : { block : 'icon', mods : { action : 'download' },
        text: 'Выберите файл'
    }
}
```

#### noFileText

Определяет текст сообщения, когда файл не выбран.

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal' },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```

#### attrs

При необходимости дополнительные HTML-атрибуты блока могут быть заданы в зарезервированном поле `attrs` в BEMJSON.

## Модификаторы блока

### Темы (модификатор `theme`)

Способы использования: BEMJSON, JS.

Без указания модификатора `theme` отображается нативный вид контрола.

**Тема normal**

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal' },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```

### Неактивен (модификатор `disabled`)

Способы использования: BEMJSON, JS.

В неактивном состоянии блока кнопка выбора видна, но недоступна для действий пользователя. Блок не может получить модификатор `focused`.

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal', disabled : true },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```

### В фокусе (модификатор `focused`)

Способы использования: BEMJSON, JS.

Определяет стиль для блока, получающего фокус.

Модификатор `focused` в значении `true` автоматически выставляется блоку в момент, когда он находится в фокусе. Например, по нажатию клавиши `Tab` или при щелчке мышью.

Также модификатор мажет быть указан в декларации BEMJSON:

```bemjson
{
    block : 'attach',
    mods : { theme : 'normal', focused : true },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```
